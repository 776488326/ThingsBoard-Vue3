import{f as R}from"./el-scrollbar-47c15925.js";import{E as J,a as O}from"./el-checkbox-7864edf7.js";import{E as T}from"./el-button-ce6a7349.js";import{_ as F}from"./logo_title_white-357c254f.js";import{d as h,a as y,g as $,w as i,b as L,T as A,Z as C,N as w,r as b,c as V,B as s,f as l,W as u,u as t,a2 as v,j as G,a3 as j,a4 as k,a5 as I,$ as D,a0 as M}from"./index-5157ca21.js";import{u as W}from"./user-f5598cef.js";import"./use-form-item-c41ec946.js";import"./use-global-config-40970ff6.js";const Z=h({__name:"index",props:{name:{default:"fade",type:String},mode:{default:"out-in",type:String}},setup(_){const p=_;return(a,d)=>(y(),$(A,{name:p.name,mode:p.mode},{default:i(()=>[L(a.$slots,"default",{},void 0,!0)]),_:3},8,["name","mode"]))}});const q=C(Z,[["__scopeId","data-v-1d780b32"]]),g=_=>(D("data-v-7090950c"),_=_(),M(),_),H={class:"container"},K=g(()=>l("header",{id:"login_logo"},[l("img",{id:"img","aria-label":"logo",src:F,alt:"login_icon"})],-1)),P=g(()=>l("label",{id:"label"},"Log in to see ThingsBoard in action",-1)),Q={id:"login_btn"},X=g(()=>l("fieldset",{id:"login_divider"},[l("section",{class:"left"}),l("section",{class:"center"},"或"),l("section",{class:"right"})],-1)),Y={key:0,id:"sign_up"},ee={id:"registry_operate"},se=g(()=>l("legend",{id:"sign_up_title"},"注册账号",-1)),oe={id:"fullname"},te=g(()=>l("span",{id:"place"}," ",-1)),le={key:1},ae={id:"login_form"},ie={id:"login_operate"},ne={id:"login_submit"},de=h({__name:"index",setup(_){const p=W(),a=w({userName:"",password:""});let d=b(!1),N=localStorage.getItem("isRemeber");if(N&&(d.value=JSON.parse(N),d.value)){const f=localStorage.getItem("userInfo");if(!f)d.value=!1;else{const{userName:e,password:n}=JSON.parse(f);a.password=n,a.userName=e}}let r=w({firstName:"",lastName:"",password:"",email:""}),x=b(!1),S=b(!1),m=b(!1);async function U(){await p.userLogin(a)&&(localStorage.setItem("userInfo",JSON.stringify(a)),localStorage.setItem("isAuthenticated",JSON.stringify(!0)),localStorage.setItem("isRemeber",JSON.stringify(d.value)),j.push({name:"Layout"}))}async function B(){x.value=!0;let f=await p.userRegistry(r);S.value=!!f,a.password=p.user_message.password,a.userName=p.user_message.userName,x.value=!1}return(f,e)=>{const n=T,c=J,E=O,z=R;return y(),V("div",H,[s(z,{height:"800px",id:"login_container"},{default:i(()=>[l("form",null,[K,P,l("fieldset",Q,[s(n,{disabled:"",class:"elb",size:"default",onClick:e[0]||(e[0]=()=>{})},{default:i(()=>[u(" Google登录 ")]),_:1}),s(n,{disabled:"",class:"elb",size:"default",onClick:e[1]||(e[1]=()=>{})},{default:i(()=>[u(" Facebook登录 ")]),_:1}),s(n,{disabled:"",class:"elb",size:"default",onClick:e[2]||(e[2]=()=>{})},{default:i(()=>[u(" Github登录 ")]),_:1}),s(n,{disabled:"",class:"elb",size:"default",onClick:e[3]||(e[3]=()=>{})},{default:i(()=>[u(" Apple登录 ")]),_:1})]),X,s(q,{name:"bounce"},{default:i(()=>[t(m)?(y(),V("fieldset",Y,[l("section",ee,[se,s(n,{size:"default",onClick:e[4]||(e[4]=o=>v(m)?m.value=!1:m=!1),text:""},{default:i(()=>[u(" 返回登录 ")]),_:1})]),l("section",oe,[s(c,{modelValue:t(r).firstName,"onUpdate:modelValue":e[5]||(e[5]=o=>t(r).firstName=o),placeholder:"姓"},null,8,["modelValue"]),te,s(c,{modelValue:t(r).lastName,"onUpdate:modelValue":e[6]||(e[6]=o=>t(r).lastName=o),placeholder:"名"},null,8,["modelValue"])]),s(c,{"prefix-icon":t(k),modelValue:t(r).email,"onUpdate:modelValue":e[7]||(e[7]=o=>t(r).email=o),type:"email",placeholder:"用户名（电子邮件）*"},null,8,["prefix-icon","modelValue"]),s(c,{"prefix-icon":t(I),"show-password":"",modelValue:t(r).password,"onUpdate:modelValue":e[8]||(e[8]=o=>t(r).password=o),type:"password",placeholder:"密码"},null,8,["prefix-icon","modelValue"]),s(n,{id:"registry",type:"primary",onClick:B,loading:t(x)},{default:i(()=>[u(G(t(S)?"注册成功":"注册"),1)]),_:1},8,["loading"])])):(y(),V("fieldset",le,[l("fieldset",ae,[s(c,{modelValue:a.userName,"onUpdate:modelValue":e[9]||(e[9]=o=>a.userName=o),placeholder:"用户名（电子邮件）*",type:"email","prefix-icon":t(k)},null,8,["modelValue","prefix-icon"]),s(c,{modelValue:a.password,"onUpdate:modelValue":e[10]||(e[10]=o=>a.password=o),placeholder:"密码",type:"password","show-password":"","prefix-icon":t(I)},null,8,["modelValue","prefix-icon"])]),l("fieldset",ie,[s(E,{modelValue:t(d),"onUpdate:modelValue":e[11]||(e[11]=o=>v(d)?d.value=o:d=o),label:"记住密码"},null,8,["modelValue"]),s(n,{text:"",size:"default",onClick:e[12]||(e[12]=o=>v(m)?m.value=!0:m=!0)},{default:i(()=>[u(" 注册账号 ")]),_:1})]),l("fieldset",ne,[s(n,{id:"submit",type:"primary",onClick:U},{default:i(()=>[u(" 登录 ")]),_:1})])]))]),_:1})])]),_:1})])}}});const be=C(de,[["__scopeId","data-v-7090950c"]]);export{be as default};
//# sourceMappingURL=index-87ef9524.js.map
